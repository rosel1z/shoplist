{"version":3,"sources":["components/Header.js","components/Footer.js","components/CartIcon.js","components/ShowAlert.js","components/CartItem.js","components/CartList.js","components/Preloader.js","components/ShopCard.js","components/ShopList.js","config.js","components/Content.js","App.js","index.js"],"names":["Header","props","className","href","id","Footer","Date","getFullYear","CartIcon","onClick","toggleShow","length","ShowAlert","useEffect","timeoutId","setTimeout","hideAlert","clearTimeout","text","CartItem","name","quantity","price","removeFromCart","CartList","cost","items","reduce","sum","item","map","colSpan","Preloader","ShopCard","images","appendToCart","src","icon","alt","ShopList","useState","setItems","loading","setLoading","fetch","headers","Authorization","then","response","json","data","slice","Content","cartItems","setCartItems","cartShow","setCartShow","showAlert","setShowAlert","itemIndex","findIndex","value","newItem","newCart","splice","filter","App","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19ac091c.chunk.js","sourcesContent":["export default function Header(props) {\n    return (\n        <header>\n            <nav className=\"teal lighten-1\">\n                <div className=\"nav-wrapper container\">\n                    <a href=\"#\" className=\"brand-logo\">Корзина</a>\n                    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                    </ul>\n                </div>\n            </nav>\n        </header>\n    );\n}","export default function Footer() {\n    return (\n        <footer className=\"page-footer teal lighten-1\">\n            <div className=\"container\">\n                © {new Date().getFullYear()} Новикова Елизавета \n            </div>\n        </footer>\n    );\n}","export default function CartIcon(props) {\n    return (\n        <div className=\"cart-icon\" onClick={props.toggleShow}>\n            <i className=\"material-icons\">shopping_cart</i>\n            {props.length ? <span>{props.length}</span> : null}\n        </div>\n    );\n}","import {useEffect} from 'react';\n\nexport default function ShowAlert(props) {\n    useEffect(() => {\n        const timeoutId = setTimeout(props.hideAlert, 2000);\n        return () => clearTimeout(timeoutId);\n    }, [props.text]);\n\n    return (\n        <div className=\"show-alert\">{props.text}</div>\n    );\n}","export default function CartItem(props) {\n    return (\n        <tr>\n            <td>{props.name}</td>\n            <td>{props.quantity}</td>\n            <td>{props.price}</td>\n            <td>{props.price * props.quantity}</td>\n            <td>\n                <i\n                    className=\"material-icons cart-item-delete\"\n                    onClick={() => props.removeFromCart(props.id)}\n                >\n                    close\n                </i>\n            </td>\n        </tr>\n    );\n}","import CartItem from './CartItem';\n\nexport default function CartList(props) {\n    // общая стоимость товаров в корзине\n    const cost = props.items.reduce((sum, item) => sum + item.price * item.quantity, 0) \n    return (\n        <div className=\"cart-modal\">\n            <i className=\"material-icons cart-modal-close\" onClick={props.toggleShow}>\n                close\n            </i>\n            <h5 className=\"red-text text-lighten-1\">Ваша корзина</h5>\n            {props.items.length ? (\n                <table className=\"striped\">\n                    <thead>\n                        <tr>\n                            <th>Наименование</th>\n                            <th>Количество</th>\n                            <th>Цена</th>\n                            <th>Сумма</th>\n                            <th>Удалить</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {props.items.map(item =>\n                            <CartItem key={item.id} {...item} removeFromCart={props.removeFromCart} />\n                        )}\n                        <tr>\n                            <th colSpan=\"3\">Итого</th>\n                            <th>{cost}</th>\n                            <th>руб.</th>\n                        </tr>\n                    </tbody>\n                </table>\n            ) : (\n                <p>Ваша корзина пуста</p>\n            )}\n        </div>\n    );\n}","export default function Preloader() {\n    return (\n        <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n        </div>\n    );\n}","export default function ShopCard(props) {\n    const {\n        id,\n        name,\n        price,\n        images,\n        appendToCart\n    } = props;\n    const item = {id: id, name: name, price: price}\n    return (\n        <div id={\"product-\" + id} className=\"card\">\n            <div className=\"card-image waves-effect waves-block waves-light\">\n                <img className=\"activator\" src={images.icon} alt=\"\" />\n            </div>\n            <div className=\"card-content\">\n                <span className=\"card-title activator grey-text text-darken-4\">\n                    {name}\n                </span>\n                <p>Цена: {price} руб.</p>\n            </div>\n            <div className=\"card-action\">\n                <button className=\"btn-small\" onClick={() => appendToCart(item, 1)} >\n                    Купить\n                </button>\n                <button className=\"btn-small right\">Больше</button>\n            </div>\n        </div>\n    );\n}","import {useState, useEffect} from 'react';\nimport {API_KEY, API_URL_LIST} from '../config';\nimport Preloader from './Preloader';\nimport ShopCard from './ShopCard';\n\nexport default function ShopList(props) {\n    const [items, setItems] = useState([]); // товары магазина\n    const [loading, setLoading] = useState(true); // идет загрузка?\n\n    useEffect(() => {\n        fetch(API_URL_LIST, {\n            headers: {\n                Authorization: API_KEY\n            }\n        })\n            .then(response => response.json())\n            .then(data => {\n                data.items && setItems(data.items.slice(0, 24));\n                setLoading(false);\n            });\n    }, []);\n\n    return (\n        <div className=\"items\">\n            {loading ? (\n                <Preloader />\n            ) : items.length ? (\n                items.map(item => (\n                    <ShopCard key={item.id} {...item} appendToCart={props.appendToCart} />\n                ))\n            ) : (\n                <p>Не удалось загрузить список товаров</p>\n            )}\n        </div>\n    )\n}","export const API_KEY = 'bc04de82-72586ecb-11b725bb-07653935';\nexport const API_URL_LIST = 'https://fortniteapi.io/v2/items/list?lang=en';\nexport const API_URL_ITEM = 'https://fortniteapi.io/v2/items/get?lang=en';\n\n","import {useState} from 'react';\nimport CartIcon from './CartIcon';\nimport ShowAlert from './ShowAlert';\nimport CartList from './CartList';\nimport ShopList from './ShopList';\n\nexport default function Content() {\n    const [cartItems, setCartItems] = useState([]);\n    const [cartShow, setCartShow] = useState(false); // модальное окно\n    // для показа сообщения после добавления в корзину\n    const [showAlert, setShowAlert] = useState(null);\n\n    const appendToCart = (item, quantity = 1) => {\n        // нужно проверить, нет ли уже такого товара в корзине\n        const itemIndex = cartItems.findIndex(value => value.id === item.id);\n        if (itemIndex < 0) { // такого товара еще нет\n            const newItem = {\n                ...item,\n                quantity: quantity\n            };\n            setCartItems([...cartItems, newItem]);\n        } else { // такой товар уже есть\n            const newItem = {\n                ...cartItems[itemIndex],\n                quantity: cartItems[itemIndex].quantity + quantity\n            };\n            const newCart = cartItems.slice(); // копия массива cartItems\n            newCart.splice(itemIndex, 1, newItem);\n            setCartItems(newCart);\n        }\n        setShowAlert(item.name + ' добавлен в корзину');\n    };\n\n    const removeFromCart = (id) => {\n        const newCart = cartItems.filter(item => item.id !== id);\n        setCartItems(newCart);\n    }\n\n    const toggleShow = () => setCartShow(!cartShow);\n\n    const hideAlert = () => setShowAlert(null);\n\n    return (\n        <main className=\"container\">\n            <CartIcon length={cartItems.length} toggleShow={toggleShow} />\n            {showAlert && <ShowAlert text={showAlert} hideAlert={hideAlert} />}\n            <ShopList appendToCart={appendToCart} />\n            {cartShow ? (\n                <CartList items={cartItems} toggleShow={toggleShow} removeFromCart={removeFromCart} />\n            ) : (\n                null\n            )}\n        </main>\n    );\n}","import React from 'react';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Content from './components/Content';\n\nexport default function App() {\n    return (\n        <React.Fragment>\n            <Header />\n            <Content />\n            <Footer />\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}